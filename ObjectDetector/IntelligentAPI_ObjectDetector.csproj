<Project Sdk="MSBuild.Sdk.Extras">
  <PropertyGroup>
    <RootNamespace>IntelligentAPI.ObjectDetection</RootNamespace>
    <TargetPlatformVersion>10.0.19041.0</TargetPlatformVersion>
    <TargetPlatformMinVersion>10.0.17763.0</TargetPlatformMinVersion>
    <IncludeContentInPack>false</IncludeContentInPack>
    <TargetFramework>uap10.0.17763</TargetFramework>
  </PropertyGroup>
  <PropertyGroup>
    <PackageId>CommunityToolkit.Labs.Intelligent.ObjectDetection</PackageId>
    <Description>
      This package performs Object Detection on an input image by using the YOLOv4 Onnx model.
    </Description>
    <Version>0.0.7</Version>
    <Authors>CommunityToolkit.Labs</Authors>
    <DebugType>Portable</DebugType>
    <PackageOutputPath>bin\Package</PackageOutputPath>
    <PackageProjectUrl>https://github.com/CommunityToolkit/Labs-IntelligentAPIs</PackageProjectUrl>
    <AllowedOutputExtensionsInPackageBuildOutputFolder>.pdb</AllowedOutputExtensionsInPackageBuildOutputFolder>
    <PublishRepositoryUrl>true</PublishRepositoryUrl>
    <EmbedUntrackedSources>true</EmbedUntrackedSources>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="NuGet.Build.Tasks.Pack" Version="5.2.0" PrivateAssets="all" Pack="false"/>
    <PackageReference Include="Microsoft.SourceLink.GitHub" Version="1.0.0" PrivateAssets="All" />
  </ItemGroup>
  <PropertyGroup>
    <ContinuousIntegrationBuild>true</ContinuousIntegrationBuild>
  </PropertyGroup>
  <ItemGroup>
       <EmbeddedResource Include="Properties\IntelligentAPI_ObjectDetector.rd.xml" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="Assets\Yolo.onnx" Pack="True" PackagePath="lib/uap10.0.17763/Assets" />
  </ItemGroup>
  <ItemGroup>
    <None Include="ObjectDetector.licenseheader" />
  </ItemGroup>
  <Target Name="BeforeBuild">
    <Exec Command="powershell.exe –NonInteractive –ExecutionPolicy Unrestricted -command &quot;&amp; {.\Scripts\script.ps1 }&quot;" />
  </Target>
</Project>